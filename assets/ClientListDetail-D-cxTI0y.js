import{p as b,E as m,q as n,G as S,c as w,j as r,v as _,d as t,t as s,y as B,w as k,K as I,e as E,g as F,I as N,o as v,x as f}from"./index-ClMgkat8.js";import{u as T,_ as V,s as $,C as j}from"./client-store-CnnvIovO.js";import{_ as G}from"./ControlsTable.vue_vue_type_script_setup_true_lang-BqllHF29.js";import{u as A}from"./control-store-DDQWkPco.js";import{_ as K}from"./ControlForm.vue_vue_type_script_setup_true_lang-Ds6ZO8Vj.js";import"./baseicon.esm-DZfMr5Qt.js";import"./column.esm-CWJJkjUj.js";import"./index.esm-Dvy6gr6J.js";import"./index.esm-DGYtOusB.js";const L={class:"container mx-auto"},R={class:"card"},q={class:"grid grid-cols-[auto_1fr] gap-y-4 gap-x-10"},H=t("div",{class:"font-bold"},"Grad:",-1),M=t("div",{class:"font-bold"},"Adresa:",-1),P=t("div",{class:"font-bold"},"Email:",-1),z=t("div",{class:"font-bold"},"Telefon:",-1),J=t("div",{class:"font-bold"},"Telefon 2:",-1),O=t("h3",{class:"mt-10 mb-10 text-3xl font-semibold"}," Kontrole ",-1),Q={class:"card"},nt=b({__name:"ClientListDetail",setup(U){const d=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),p=N(),h=T(),C=A(),{getClientById:g}=m(h),{getAllControlsByClientId:y}=m(C),i=n([]),l=n(!1),D=n(),e=n({id:"",name:"",city:"",address:"",email:"",phone:"",phone2:""}),u=n({id:"",clientID:"",subject:"",duration:1,nextCheck:d,date:d});S(async()=>{var a;const o=(a=p.params.id)==null?void 0:a.toString();if(o){D.value=o,u.value.clientID=o;const c=g.value(o);e.value=c||await j.getClientByID(o),i.value=y.value(o)}});function x(){l.value=!l.value}return(o,a)=>(v(),w("div",L,[r(V,null,{default:_(()=>[f(s(e.value.name),1)]),_:1}),t("div",R,[t("div",q,[H,t("div",null,s(e.value.city),1),M,t("div",null,s(e.value.address),1),P,t("div",null,s(e.value.email),1),z,t("div",null,s(e.value.phone),1),J,t("div",null,s(e.value.phone2),1)])]),O,t("div",Q,[r(B($),{onClick:a[0]||(a[0]=c=>x())},{default:_(()=>[f(s(l.value?"Ponisti":"Dodaj kontrolu"),1)]),_:1}),k(r(K,{item:u.value,class:"mb-20 mt-20"},null,8,["item"]),[[I,l.value]]),i.value?(v(),E(G,{key:0,controls:i.value},null,8,["controls"])):F("",!0)])]))}});export{nt as default};
