import{p as _,E as h,q as r,z as V,G as y,c as x,j as t,v as g,d as o,y as i,H as C,F as S,I as w,u as U,o as B,x as E,t as I,J as d}from"./index-C-bc51Al.js";import{u as N,_ as T,s as j,C as u}from"./client-store-CJw_fwfU.js";import"./baseicon.esm-G6rATr2b.js";const k={class:"flex flex-col gap-2 mb-8"},D=o("label",{for:"name"},"Naziv",-1),F={class:"flex flex-col gap-2 mb-8"},z=o("label",{for:"city"},"Mesto",-1),M={class:"flex flex-col gap-2 mb-8"},R=o("label",{for:"address"},"Adresa",-1),$={class:"flex flex-col gap-2 mb-8"},q=o("label",{for:"email"},"Email",-1),A={class:"flex flex-col gap-2 mb-8"},G=o("label",{for:"phone"},"Telefon",-1),H={class:"flex flex-col gap-2 mb-14"},J=o("label",{for:"phone2"},"Telefon 2",-1),L={class:"flex flex-col gap-2 mb-2"},W=_({__name:"ClientListEdit",setup(K){const m=w(),p=U(),c=N(),{getClientById:f}=h(c),n=r(),l=r({id:"",name:"",city:"",address:"",email:"",phone:"",phone2:""}),v=V(()=>n.value?"Izmeni klijenta":"Dodaj klijenta");y(async()=>{var e;const s=(e=m.params.id)==null?void 0:e.toString();if(s){n.value=s;const a=f.value(s);l.value=a||await u.getClientByID(s)}});async function b(){let s=!1;n.value?s=await u.updateClient(l.value):s=await u.addNewClient(l.value),s&&(alert("Success"),p.push({name:"client-list"}))}return(s,e)=>(B(),x(S,null,[t(T,null,{default:g(()=>[E(I(v.value),1)]),_:1}),o("form",{onSubmit:e[6]||(e[6]=C(a=>b(),["prevent"])),class:"card"},[o("div",k,[D,t(i(d),{id:"name",modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.name=a),"aria-describedby":"name-help",required:""},null,8,["modelValue"])]),o("div",F,[z,t(i(d),{id:"city",modelValue:l.value.city,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.city=a),"aria-describedby":"city-help"},null,8,["modelValue"])]),o("div",M,[R,t(i(d),{id:"address",modelValue:l.value.address,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.address=a),"aria-describedby":"address-help"},null,8,["modelValue"])]),o("div",$,[q,t(i(d),{id:"email",modelValue:l.value.email,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.email=a),type:"email","aria-describedby":"email-help"},null,8,["modelValue"])]),o("div",A,[G,t(i(d),{id:"phone",modelValue:l.value.phone,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.phone=a),"aria-describedby":"phone-help"},null,8,["modelValue"])]),o("div",H,[J,t(i(d),{id:"phone2",modelValue:l.value.phone2,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.phone2=a),"aria-describedby":"phone2-help"},null,8,["modelValue"])]),o("div",L,[t(i(j),{label:"Submit",type:"submit"})])],32)],64))}});export{W as default};
